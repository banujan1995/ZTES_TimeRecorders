<!-- Erstellt durch: Jordi Schmidlin -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/icons.css">
	<link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <title> Login</title>
</head>
<body style="background-color: whitesmoke">
    <header>
      <img src="css/images/Logo.png" alt="Logo"
			class="logo"> <br>
		<br>
		<br>
		<br>
		<br>
		<br>
        <nav>
          <label for="german" class="label_language"> Change language to: </label>
            <a href="/login"><img src="css/images/DE.jpeg" alt="Deutsch" name="german"style="width: 20;height: 15;"></a>
        </nav>
        
        <p class="title"> Time Recording System</p> 
        <p class="subtitle"> Login </p>
      
    
    </header>
    <body style="background-color:azure">
      
    <br><br><br>

    <i class="fa fa-user icon" style="display: block; text-align: center;width: 100%;"</i> 
    <label for="loginUsername" class="text"  ><b>User name: </b></label>
    <input type="text" placeholder="Enter username" name="loginUsername" class="textField" id="loginUserName_EN"required>

    <br><br>

    <i class="fa fa-key icon" style="display: block; text-align: center;width: 100%;" </i>
    <label for="loginPassword" class="text" ><b>Password: </b></label>
    <input type="password" placeholder="Enter password" name="loginPassword" class="textField" id="loginPassword_EN" required>

    <br>
    <p id="capsON_en" >WARNING! Caps lock is ON.</p>
    <br>
    <br>
    
    <!-- credits to: https://www.w3schools.com/howto/howto_js_detect_capslock.asp-->
    <div class="alert" id="wrongInputs" style="max-width: 380px;position: relative; margin: auto;">
      <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
      <strong> Incorrect password and/or user name!</strong> <br> Please enter the right credentials!
    </div>
    <br><br>
    

    <input type="checkbox" onclick="showPassword()" id="showPassword"> Show password
    
    <br><br>

    <div class="w3-light-grey" style="max-width: 150px; position: relative; margin: auto;">
      <div id="loginProgress" class="w3-container w3-blue  w3-center" style="width:0%" >0%</div>
    </div>
    <br>
  

    <button class="button" onclick="load(); checkInputs(); setTimeout(openOverview, 2000)" > Login</button>

    <br><br>

    <footer>
        <a href="mailto:admin@jkbgmbh.ch" id="loginIssues"style="display: block; text-align: center;width: 100%;"> Login issues?</a>    
    </footer>
    
    
    <script>
        //credits to: https://www.w3schools.com/w3css/w3css_progressbar.asp
        function load() {
            var elem = document.getElementById("loginProgress");   
            var width = 0;
            var id = setInterval(frame, 10);
            function frame() {
              if (width >= 100) {
                clearInterval(id);
              } else {
                width++; 
                elem.style.width = width + '%'; 
                elem.innerHTML = width * 1  + '%';
              }
            }
          }

      //credits to: https://www.w3schools.com/howto/howto_js_toggle_password.asp
        function showPassword() {
            var x = document.getElementById("loginPassword_EN");
            if (x.type === "password") {
            x.type = "text";
            } else {
            x.type = "password";
            }
        }
        
        //credits to: https://www.w3schools.com/howto/howto_js_detect_capslock.asp'
        var input = document.getElementById("loginPassword_EN");
        var text = document.getElementById("capsON_en");
        input.addEventListener("keyup", function(event) {
        
        if (event.getModifierState("CapsLock")) {
            text.style.display = "block";
          } else {
            text.style.display = "none"
          }
        });

        //@need to adapt
        function checkInputs() {
        var user = document.getElementById("loginUserName_EN");
        var password = document.getElementById("loginPassword_EN");
        var alert = document.getElementById("wrongInputs")

        if (user == "1" && password == "1"){
          alert.style.display = "none";
        } else {
          alert.style.display = "block";
          
      }
    }
    
      function openOverview(){
        window.location.href = "/main";
      }




        </script>

</body>
</html>