<!-- erstellt durch Jordi Schmidlin-->
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/style.css"">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
<script src="js/jquery.weekpicker.js"></script>
 <script src="/js/mycookies.js"></script> 
  <script>
	 createMyCookies();
 </script> 
<link rel="stylesheet"
	href="https://code.jquery.com/ui/1.12.1/themes/flick/jquery-ui.css">
<title>Overview</title>
</head>
<body style="background-color: rgb(217, 240, 216)">
	
	<!-- Hier wird der Cookie ausgelesen und bei auth=false wird der HTML=403 aufgerufen. (BR) -->
	<script> 
		if($.cookie("auth") == "false"){
			window.location.assign("http://localhost:8081/accesserror");
		}
	</script>
    <script>
    console.log($.cookie("auth"));
    console.log($.cookie("userlogin"));
	
    </script>
	
	<div style="max-width: 350px; position: relative; margin: auto;">
		<img src="css/images/Logo.png" alt="Logo" class="logo"
			style="max-width: 350px;">
	</div>
	<br>
	<br>
	<br>
	<br>
	<br>
	<!-- Navigationsbar-->
	<ul class="navibar">
		<li class="barItem"><a class="barItem">Home</a></li>
		<li class="barItem"><a class="barItem"
			href="http://localhost:8081/report">Report</a></li>
		<li class="barItem"><a class="barItem" href="http://localhost:8081/absence">
				Absence</a></li>
		<li style="float: right" class="barItem"><a onclick="deleteUserDB(); deleteMyCookies();" href="javascript:void(0)"
			class="barItem">Logout</a></li>
		<li style="float: right" class="barItem"><a
			href="http://localhost:8081/profile" class="barItem">Profile</a></li>
	</ul>
	<br>
	<div style="display: block; text-align: center; width: 100%;">
		<h1>Your weektable</h1>
		<p style="font-weight: bold;">Please choose the desired week!</p>
	</div>
	<br>
	<!-- Kalender, um die entsprechende Woche anzuzeigen-->
	<div style="display: block; text-align: center; width: 100%;">
		<input type="text" id="week_ww_yyyy"></input>
		<button class="buttonList" style="margin-left: 20px;"
			onclick="getChoosenDay(); resetFullTable(); bringUpDataAndTimefromDB();">Validate</button>
	</div>
	<br>
	<br>
	<!-- Wochentabelle, Datum je nach Auswahl im Kalender + Button: Validieren-->
	<div style="position: relative; margin: auto;">
		<table id="table" class="table">
			<tr>
				<th>Weektable:</th>
				<th id="firstDayofWeek"></th>
				<th id="secondDayofWeek"></th>
				<th id="thirdDayofWeek"></th>
				<th id="fourthDayofWeek"></th>
				<th id="fifthDayofWeek"></th>
				<th id="sixthDayofWeek"></th>
				<th id="seventhDayofWeek"></th>
				<th></th>
			</tr>
			<tr>
				<th>Morning</th>
				<td><label for="mondayMorningStartHours"
					style="font-size: 14px;"> Start:</label> <input class="timeInput"
					tabindex="1" type="text" maxlength="2" id="mondayMorningStartHours"
					oninput="calculateMondayTotal();" placeholder="hh"
					onkeyup="enableButton()"> <input class="timeInput"
					tabindex="1" type="text" maxlength="2" id="mondayMorningStartMin"
					oninput="calculateMondayTotal();" placeholder="mm"
					onkeyup="enableButton()"> <br> <label
					for="mondayMorningStartHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="1" type="text" maxlength="2"
					id="mondayMorningEndHours" oninput="calculateMondayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="1" type="text" maxlength="2"
					id="mondayMorningEndMin" oninput="calculateMondayTotal();"
					placeholder="mm" onkeyup="enableButton()"></td>
				<td><label for="tuesdayMorningStart" style="font-size: 14px;">
						Start:</label> <input class="timeInput" tabindex="2" type="text"
					maxlength="2" id="tuesdayMorningStartHours"
					oninput="calculateTuesdayTotal();" placeholder="hh"
					onkeyup="enableButton()"> <input class="timeInput"
					tabindex="2" type="text" maxlength="2" id="tuesdayMorningStartMin"
					oninput="calculateTuesdayTotal();" placeholder="mm"
					onkeyup="enableButton()"> <br> <label
					for="tuesdayMorningEndHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="2" type="text" maxlength="2"
					id="tuesdayMorningEndHours" oninput="calculateTuesdayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="2" type="text" maxlength="2"
					id="tuesdayMorningEndMin" oninput="calculateTuesdayTotal();"
					placeholder="mm" onkeyup="enableButton()"></td>
				<td><label for="wednesdayMorningStart" style="font-size: 14px;">
						Start:</label> <input class="timeInput" tabindex="3" type="text"
					maxlength="2" id="wednesdayMorningStartHours"
					oninput="calculateWednesdayTotal();" placeholder="hh"
					onkeyup="enableButton()"> <input class="timeInput"
					tabindex="3" type="text" maxlength="2"
					id="wednesdayMorningStartMin" oninput="calculateWednesdayTotal();"
					placeholder="mm" onkeyup="enableButton()"> <br> <label
					for="wednesdayMorningEndHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="3" type="text" maxlength="2"
					id="wednesdayMorningEndHours" oninput="calculateWednesdayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="3" type="text" maxlength="2"
					id="wednesdayMorningEndMin" oninput="calculateWednesdayTotal();"
					placeholder="mm" onkeyup="enableButton()"></td>
				<td><label for="thursdayMorningStartHours"
					style="font-size: 14px;"> Start:</label> <input class="timeInput"
					tabindex="4" type="text" maxlength="2"
					id="thursdayMorningStartHours" oninput="calculateThursdayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="4" type="text" maxlength="2"
					id="thursdayMorningStartMin" oninput="calculateThursdayTotal();"
					placeholder="mm" onkeyup="enableButton()"> <br> <label
					for="thursdayMorningEndHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="4" type="text" maxlength="2"
					id="thursdayMorningEndHours" oninput="calculateThursdayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="4" type="text" maxlength="2"
					id="thursdayMorningEndMin" oninput="calculateThursdayTotal();"
					placeholder="mm" onkeyup="enableButton()"></td>
				<td><label for="fridayMorningStartHours"
					style="font-size: 14px;"> Start:</label> <input class="timeInput"
					tabindex="5" type="text" maxlength="2" id="fridayMorningStartHours"
					oninput="calculateFridayTotal();" placeholder="mm"
					onkeyup="enableButton()"> <input class="timeInput"
					tabindex="5" type="text" maxlength="2" id="fridayMorningStartMin"
					oninput="calculateFridayTotal();" placeholder="hh"
					onkeyup="enableButton()"> <br> <label
					for="fridayMorningEndHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="5" type="text" maxlength="2"
					id="fridayMorningEndHours" oninput="calculateFridayTotal();"
					placeholder="mm" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="5" type="text" maxlength="2"
					id="fridayMorningEndMin" oninput="calculateFridayTotal();"
					placeholder="hh" onkeyup="enableButton()"></td>
				<td><label for="saturdayMorningStartHours"
					style="font-size: 14px;"> Start:</label> <input class="timeInput"
					tabindex="6" type="text" maxlength="2"
					id="saturdayMorningStartHours" oninput="calculateSaturdayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="6" type="text" maxlength="2"
					id="saturdayMorningStartMin" oninput="calculateSaturdayTotal();"
					placeholder="mm" onkeyup="enableButton()"> <br> <label
					for="saturdayMorningEndHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="6" type="text" maxlength="2"
					id="saturdayMorningEndHours" oninput="calculateSaturdayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="6" type="text" maxlength="2"
					id="saturdayMorningEndMin" oninput="calculateSaturdayTotal();"
					placeholder="mm" onkeyup="enableButton()"></td>
				<td><label for="sundayMorningStartHours"
					style="font-size: 14px;"> Start:</label> <input class="timeInput"
					tabindex="7" type="text" maxlength="2" id="sundayMorningStartHours"
					oninput="calcutlateSundayTotal();" placeholder="hh"
					onkeyup="enableButton()"> <input class="timeInput"
					tabindex="7" type="text" maxlength="2" id="sundayMorningStartMin"
					oninput="calcutlateSundayTotal();" placeholder="mm"
					onkeyup="enableButton()"> <br> <label
					for="sundayMorningEndHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="7" type="text" maxlength="2"
					id="sundayMorningEndHours" oninput="calcutlateSundayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="7" type="text" maxlength="2"
					id="sundayMorningEndMin" oninput="calcutlateSundayTotal();"
					placeholder="mm" onkeyup="enableButton()"></td>
				<th></th>
			</tr>
			<tr>
				<th>Afternoon</th>
				<td><label for="mondayMorningStartHours"
					style="font-size: 14px;"> Start:</label> <input class="timeInput"
					tabindex="1" type="text" maxlength="2"
					id="mondayAfternoonStartHours" oninput="calculateMondayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="1" type="text" maxlength="2"
					id="mondayAfternoonStartMin" oninput="calculateMondayTotal();"
					placeholder="mm" onkeyup="enableButton()"> <br> <label
					for="mondayMorningStartHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="1" type="text" maxlength="2"
					id="mondayAfternoonEndHours" oninput="calculateMondayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="1" type="text" maxlength="2"
					id="mondayAfternoonEndMin" oninput="calculateMondayTotal();"
					placeholder="mm" onkeyup="enableButton()"></td>
				<td><label for="tuesdayMorningStart" style="font-size: 14px;">
						Start:</label> <input class="timeInput" tabindex="2" type="text"
					maxlength="2" id="tuesdayAfternoonStartHours"
					oninput="calculateTuesdayTotal();" placeholder="hh"
					onkeyup="enableButton()"> <input class="timeInput"
					tabindex="2" type="text" maxlength="2"
					id="tuesdayAfternoonStartMin" oninput="calculateTuesdayTotal();"
					placeholder="mm" onkeyup="enableButton()"> <br> <label
					for="tuesdayMorningEndHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="2" type="text" maxlength="2"
					id="tuesdayAfternoonEndHours" oninput="calculateTuesdayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="2" type="text" maxlength="2"
					id="tuesdayAfternoonEndMin" oninput="calculateTuesdayTotal();"
					placeholder="mm" onkeyup="enableButton()"></td>
				<td><label for="wednesdayMorningStart" style="font-size: 14px;">
						Start:</label> <input class="timeInput" tabindex="3" type="text"
					maxlength="2" id="wednesdayAfternoonStartHours"
					oninput="calculateWednesdayTotal();" placeholder="hh"
					onkeyup="enableButton()"> <input class="timeInput"
					tabindex="3" type="text" maxlength="2"
					id="wednesdayAfternoonStartMin"
					oninput="calculateWednesdayTotal();" placeholder="mm"
					onkeyup="enableButton()"> <br> <label
					for="wednesdayMorningEndHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="3" type="text" maxlength="2"
					id="wednesdayAfternoonEndHours"
					oninput="calculateWednesdayTotal();" placeholder="hh"
					onkeyup="enableButton()"> <input class="timeInput"
					tabindex="3" type="text" maxlength="2"
					id="wednesdayAfternoonEndMin" oninput="calculateWednesdayTotal();"
					placeholder="mm" onkeyup="enableButton()"></td>
				<td><label for="thursdayMorningStartHours"
					style="font-size: 14px;"> Start:</label> <input class="timeInput"
					tabindex="4" type="text" maxlength="2"
					id="thursdayAfternoonStartHours"
					oninput="calculateThursdayTotal();" placeholder="hh"> <input
					class="timeInput" tabindex="4" type="text" maxlength="2"
					id="thursdayAfternoonStartMin" oninput="calculateThursdayTotal();"
					placeholder="mm" onkeyup="enableButton()"> <br> <label
					for="thursdayMorningEndHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="4" type="text" maxlength="2"
					id="thursdayAfternoonEndHours" oninput="calculateThursdayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="4" type="text" maxlength="2"
					id="thursdayAfternoonEndMin" oninput="calculateThursdayTotal();"
					placeholder="mm" onkeyup="enableButton()"></td>
				<td><label for="fridayMorningStartHours"
					style="font-size: 14px;"> Start:</label> <input class="timeInput"
					tabindex="5" type="text" maxlength="2"
					id="fridayAfternoonStartHours" oninput="calculateFridayTotal();"
					placeholder="mm" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="5" type="text" maxlength="2"
					id="fridayAfternoonStartMin" oninput="calculateFridayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <br> <label
					for="fridayMorningEndHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="5" type="text" maxlength="2"
					id="fridayAfternoonEndHours" oninput="calculateFridayTotal();"
					placeholder="mm" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="5" type="text" maxlength="2"
					id="fridayAfternoonEndMin" oninput="calculateFridayTotal();"
					placeholder="hh" onkeyup="enableButton()"></td>
				<td><label for="saturdayMorningStartHours"
					style="font-size: 14px;"> Start:</label> <input class="timeInput"
					tabindex="6" type="text" maxlength="2"
					id="saturdayAfternoonStartHours"
					oninput="calculateSaturdayTotal();" placeholder="hh"
					onkeyup="enableButton()"> <input class="timeInput"
					tabindex="6" type="text" maxlength="2"
					id="saturdayAfternoonStartMin" oninput="calculateSaturdayTotal();"
					placeholder="mm" onkeyup="enableButton()"> <br> <label
					for="saturdayMorningEndHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="6" type="text" maxlength="2"
					id="saturdayAfternoonEndHours" oninput="calculateSaturdayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="6" type="text" maxlength="2"
					id="saturdayAfternoonEndMin" oninput="calculateSaturdayTotal();"
					placeholder="mm" onkeyup="enableButton()"></td>
				<td><label for="sundayMorningStartHours"
					style="font-size: 14px;"> Start:</label> <input class="timeInput"
					tabindex="7" type="text" maxlength="2"
					id="sundayAfternoonStartHours" oninput="calcutlateSundayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="7" type="text" maxlength="2"
					id="sundayAfternoonStartMin" oninput="calcutlateSundayTotal();"
					placeholder="mm" onkeyup="enableButton()"> <br> <label
					for="sundayMorningEndHours"
					style="font-size: 14px; margin-right: 5px;"> End:</label> <input
					class="timeInput" tabindex="7" type="text" maxlength="2"
					id="sundayAfternoonEndHours" oninput="calcutlateSundayTotal();"
					placeholder="hh" onkeyup="enableButton()"> <input
					class="timeInput" tabindex="7" type="text" maxlength="2"
					id="sundayAfternoonEndMin" oninput="calcutlateSundayTotal();"
					placeholder="mm" onkeyup="enableButton()"></td>
				<th></th>
			</tr>
			<tr>
				<th>Total Today:</th>
				<td><input type="text" id="mondayTotal"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="tuesdayTotal"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="wednesdayTotal"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="thursdayTotal"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="fridayTotal"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="saturdayTotal"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="sundayTotal"
					class="resultsTimeInput" disabled></td>
				<th><input type="text" id="weekTotal" class="resultsTimeInput"
					disabled></th>
			</tr>
			<tr>
				<th>Target Time:</th>
				<td><input type="text" id="mondayTargetTime"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="tuesdayTargetTime"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="wednesdayTargetTime"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="thursdayTargetTime"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="fridayTargetTime"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="saturdayTargetTime"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="sundayTargetTime"
					class="resultsTimeInput" disabled></td>
				<th><input type="text" class="total" id="totalTargetTime"
					style="max-width: 110px;" disabled></th>
			</tr>
			<tr>
				<th>Overhours:</th>
				<td><input type="text" id="mondayOverhours"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="tuesdayOverhours"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="wednesdayOverhours"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="thursdayOverhours"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="fridayOverhours"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="saturdayOverhours"
					class="resultsTimeInput" disabled></td>
				<td><input type="text" id="sundayOverhours"
					class="resultsTimeInput" disabled></td>
				<th style="text-align: center;"><input type="text"
					class="resultsTimeInput" class="total" id="totalOverhours" disabled></th>
		</table>
		<div
			style="display: block; text-align: center; width: 100%; margin-top: 30px;">
			<button id="confirmEntry" class="button"
				onclick="calculateMondayTotal(); calculateTuesdayTotal(); calculateWednesdayTotal(); calculateThursdayTotal(); calculateFridayTotal()">Confirm
				changes</button>
		</div>
	</div>
	<br>
	<br>
	<br>
	<br>
	<script>
		
	//Button confirm change wird enabled wenn ein Wert eingegeben wird (JS/BR)
	function enableButton(){
		 document.getElementById("confirmEntry").disabled = false;
		}
	
        //Funktion via jQuery, nimmt die im Kalender gewählte Woche entgegen und zeigt diese an
        // credits to: http://www.mihai-marica.ro
        (function ( $ ) {
            $( "#week_ww_yyyy" ).weekpicker();
        } )(jQuery)
    </script>
	<script>
	
	
	
	
	//Hier soll der aktuelle Tag gespeichert werden, welche gerade durchgeht zum Speichern (BR).
	
	var informationAboutDay = {
	currentDay : "" ,
	set day(day){
	this.currentDay = day;
	}
	};
	

        // berechnet Arbeitsstunden am Montag
        function calculateMondayTotal() {

        	var firstDayOfWeek = document.getElementById("firstDayofWeek");
        
            var morningstartHours =  document.getElementById("mondayMorningStartHours").value;
            var morningStartMin = document.getElementById("mondayMorningStartMin").value;
            var morningEndHours = document.getElementById("mondayMorningEndHours").value;
            var morningEndMin = document.getElementById("mondayMorningEndMin").value;
            
            var afternoonStartHours = document.getElementById("mondayAfternoonStartHours").value;
            var afternoonStartMin = document.getElementById("mondayAfternoonStartMin").value;
            var afternoonEndHours = document.getElementById("mondayAfternoonEndHours").value;
            var afternoonEndMin = document.getElementById("mondayAfternoonEndMin").value;

            var morningEndMinDeci = morningEndMin * (1/60);
            var morningStartMinDeci = morningStartMin * (1/60);
            var afternoonEndMinDeci = afternoonEndMin * (1/60);
            var afternoonStartMinDeci = afternoonStartMin * (1/60);

            var morningTotal = (morningEndHours - morningstartHours) + (morningEndMinDeci - morningStartMinDeci);
            var afternoonTotal = (afternoonEndHours - afternoonStartHours) + (afternoonEndMinDeci - afternoonStartMinDeci);

            var totalDeci = parseFloat(morningTotal + afternoonTotal);

            var totalTimeFormat = h_mm(totalDeci);

            document.getElementById("mondayTotal").value =totalTimeFormat;
            
            //hier wird das Datum herausgenommen und in der Variable geschrieben und in der Methode später verwendet (BR)
            informationAboutDay.day = document.getElementById("firstDayofWeek").innerHTML;
            
        	safeDataAndTimetoDB(morningEndHours, morningstartHours, morningEndMinDeci, morningStartMinDeci,
            afternoonEndHours, afternoonStartHours, afternoonEndMinDeci, afternoonStartMinDeci,morningTotal,
                		afternoonTotal,totalDeci)
        }


        // berechnet Arbeitsstunden am Dienstag
        function calculateTuesdayTotal() {
            var morningstartHours =  document.getElementById("tuesdayMorningStartHours").value;
            var morningStartMin = document.getElementById("tuesdayMorningStartMin").value;
            var morningEndHours = document.getElementById("tuesdayMorningEndHours").value;
            var morningEndMin = document.getElementById("tuesdayMorningEndMin").value;
            
            var afternoonStartHours = document.getElementById("tuesdayAfternoonStartHours").value;
            var afternoonStartMin = document.getElementById("tuesdayAfternoonStartMin").value;
            var afternoonEndHours = document.getElementById("tuesdayAfternoonEndHours").value;
            var afternoonEndMin = document.getElementById("tuesdayAfternoonEndMin").value;

            var morningEndMinDeci = morningEndMin * (1/60);
            var morningStartMinDeci = morningStartMin * (1/60);
            var afternoonEndMinDeci = afternoonEndMin * (1/60);
            var afternoonStartMinDeci = afternoonStartMin * (1/60);

            var morningTotal = (morningEndHours - morningstartHours) + (morningEndMinDeci - morningStartMinDeci);
            var afternoonTotal = (afternoonEndHours - afternoonStartHours) + (afternoonEndMinDeci - afternoonStartMinDeci);

            var totalDeci = parseFloat(morningTotal + afternoonTotal);

            var totalTimeFormat = h_mm(totalDeci);

            document.getElementById("tuesdayTotal").value =totalTimeFormat;
            
            //hier wird das Datum herausgenommen und in der Variable geschrieben und in der Methode später verwendet (BR)
            informationAboutDay.day = document.getElementById("secondDayofWeek").innerHTML;
            
        	safeDataAndTimetoDB(morningEndHours, morningstartHours, morningEndMinDeci, morningStartMinDeci,
            afternoonEndHours, afternoonStartHours, afternoonEndMinDeci, afternoonStartMinDeci,morningTotal,
                		afternoonTotal,totalDeci)
            
        }

        // berechnet Arbeitsstunden am Mittwoch
        function calculateWednesdayTotal() {
            var morningstartHours =  document.getElementById("wednesdayMorningStartHours").value;
            var morningStartMin = document.getElementById("wednesdayMorningStartMin").value;
            var morningEndHours = document.getElementById("wednesdayMorningEndHours").value;
            var morningEndMin = document.getElementById("wednesdayMorningEndMin").value;
            
            var afternoonStartHours = document.getElementById("wednesdayAfternoonStartHours").value;
            var afternoonStartMin = document.getElementById("wednesdayAfternoonStartMin").value;
            var afternoonEndHours = document.getElementById("wednesdayAfternoonEndHours").value;
            var afternoonEndMin = document.getElementById("wednesdayAfternoonEndMin").value;

            var morningEndMinDeci = morningEndMin * (1/60);
            var morningStartMinDeci = morningStartMin * (1/60);
            var afternoonEndMinDeci = afternoonEndMin * (1/60);
            var afternoonStartMinDeci = afternoonStartMin * (1/60);

            var morningTotal = (morningEndHours - morningstartHours) + (morningEndMinDeci - morningStartMinDeci);
            var afternoonTotal = (afternoonEndHours - afternoonStartHours) + (afternoonEndMinDeci - afternoonStartMinDeci);

            var totalDeci = parseFloat(morningTotal + afternoonTotal);

            var totalTimeFormat = h_mm(totalDeci);

            document.getElementById("wednesdayTotal").value =totalTimeFormat;
            
            //hier wird das Datum herausgenommen und in der Variable geschrieben und in der Methode später verwendet (BR)
            informationAboutDay.day = document.getElementById("thirdDayofWeek").innerHTML;
            
        	safeDataAndTimetoDB(morningEndHours, morningstartHours, morningEndMinDeci, morningStartMinDeci,
            afternoonEndHours, afternoonStartHours, afternoonEndMinDeci, afternoonStartMinDeci,morningTotal,
                		afternoonTotal,totalDeci)
        }

        // berechnet Arbeitsstunden am Donnerstag
        function calculateThursdayTotal() {
            var morningstartHours =  document.getElementById("thursdayMorningStartHours").value;
            var morningStartMin = document.getElementById("thursdayMorningStartMin").value;
            var morningEndHours = document.getElementById("thursdayMorningEndHours").value;
            var morningEndMin = document.getElementById("thursdayMorningEndMin").value;
            
            var afternoonStartHours = document.getElementById("thursdayAfternoonStartHours").value;
            var afternoonStartMin = document.getElementById("thursdayAfternoonStartMin").value;
            var afternoonEndHours = document.getElementById("thursdayAfternoonEndHours").value;
            var afternoonEndMin = document.getElementById("thursdayAfternoonEndMin").value;

            var morningEndMinDeci = morningEndMin * (1/60);
            var morningStartMinDeci = morningStartMin * (1/60);
            var afternoonEndMinDeci = afternoonEndMin * (1/60);
            var afternoonStartMinDeci = afternoonStartMin * (1/60);

            var morningTotal = (morningEndHours - morningstartHours) + (morningEndMinDeci - morningStartMinDeci);
            var afternoonTotal = (afternoonEndHours - afternoonStartHours) + (afternoonEndMinDeci - afternoonStartMinDeci);

            var totalDeci = parseFloat(morningTotal + afternoonTotal);

            var totalTimeFormat = h_mm(totalDeci);

            document.getElementById("thursdayTotal").value =totalTimeFormat;
            
            //hier wird das Datum herausgenommen und in der Variable geschrieben und in der Methode später verwendet (BR)
            informationAboutDay.day = document.getElementById("fourthDayofWeek").innerHTML;
            
        	safeDataAndTimetoDB(morningEndHours, morningstartHours, morningEndMinDeci, morningStartMinDeci,
            afternoonEndHours, afternoonStartHours, afternoonEndMinDeci, afternoonStartMinDeci,morningTotal,
                		afternoonTotal,totalDeci)
        }

        // berechnet Arbeitsstunden am Freitag
        function calculateFridayTotal() {
            var morningstartHours =  document.getElementById("fridayMorningStartHours").value;
            var morningStartMin = document.getElementById("fridayMorningStartMin").value;
            var morningEndHours = document.getElementById("fridayMorningEndHours").value;
            var morningEndMin = document.getElementById("fridayMorningEndMin").value;
            
            var afternoonStartHours = document.getElementById("fridayAfternoonStartHours").value;
            var afternoonStartMin = document.getElementById("fridayAfternoonStartMin").value;
            var afternoonEndHours = document.getElementById("fridayAfternoonEndHours").value;
            var afternoonEndMin = document.getElementById("fridayAfternoonEndMin").value;

            var morningEndMinDeci = morningEndMin * (1/60);
            var morningStartMinDeci = morningStartMin * (1/60);
            var afternoonEndMinDeci = afternoonEndMin * (1/60);
            var afternoonStartMinDeci = afternoonStartMin * (1/60);

            var morningTotal = (morningEndHours - morningstartHours) + (morningEndMinDeci - morningStartMinDeci);
            var afternoonTotal = (afternoonEndHours - afternoonStartHours) + (afternoonEndMinDeci - afternoonStartMinDeci);

            var totalDeci = parseFloat(morningTotal + afternoonTotal);

            var totalTimeFormat = h_mm(totalDeci);

            document.getElementById("fridayTotal").value =totalTimeFormat;
            
            //hier wird das Datum herausgenommen und in der Variable geschrieben und in der Methode später verwendet (BR)
            informationAboutDay.day = document.getElementById("fifthDayofWeek").innerHTML;
            
        	safeDataAndTimetoDB(morningEndHours, morningstartHours, morningEndMinDeci, morningStartMinDeci,
            afternoonEndHours, afternoonStartHours, afternoonEndMinDeci, afternoonStartMinDeci,morningTotal,
                		afternoonTotal,totalDeci)
        }

        // wird nicht genutzt, da Büroarbeitszeiten (MO-FR)
        // berechnet Arbeitsstunden am Samstag
        //*function calculateSaturdayTotal() {
           // var morningstartHours =  document.getElementById("saturdayMorningStartHours").value;
           // var morningStartMin = document.getElementById("saturdayMorningStartMin").value;
           // var morningEndHours = document.getElementById("saturdayMorningEndHours").value;
           // var morningEndMin = document.getElementById("saturdayMorningEndMin").value;
            
           // var afternoonStartHours = document.getElementById("saturdayAfternoonStartHours").value;
           // var afternoonStartMin = document.getElementById("saturdayAfternoonStartMin").value;
           // var afternoonEndHours = document.getElementById("saturdayAfternoonEndHours").value;
           // var afternoonEndMin = document.getElementById("saturdayAfternoonEndMin").value;

           // var morningEndMinDeci = morningEndMin * (1/60);
           // var morningStartMinDeci = morningStartMin * (1/60);
            //var afternoonEndMinDeci = afternoonEndMin * (1/60);
           // var afternoonStartMinDeci = afternoonStartMin * (1/60);

            //var morningTotal = (morningEndHours - morningstartHours) + (morningEndMinDeci - morningStartMinDeci);
            //var afternoonTotal = (afternoonEndHours - afternoonStartHours) + (afternoonEndMinDeci - afternoonStartMinDeci);

           // var totalDeci = parseFloat(morningTotal + afternoonTotal);

           // var totalTimeFormat = h_mm(totalDeci);

           
           
           
           // document.getElementById("saturdayTotal").value =totalTimeFormat;
       // }

        // wird nicht genutzt, da Büroarbeitszeiten (MO-FR)
        // berechnet Arbeitsstunden am Sonntag
       // function calcutlateSundayTotal() {
          //  var morningstartHours =  document.getElementById("sundayMorningStartHours").value;
          //  var morningStartMin = document.getElementById("sundayMorningStartMin").value;
          //  var morningEndHours = document.getElementById("sundayMorningEndHours").value;
            //var morningEndMin = document.getElementById("sundayMorningEndMin").value;
            
            //var afternoonStartHours = document.getElementById("sundayAfternoonStartHours").value;
           // var afternoonStartMin = document.getElementById("sundayAfternoonStartMin").value;
           // var afternoonEndHours = document.getElementById("sundayAfternoonEndHours").value;
            //var afternoonEndMin = document.getElementById("sundayAfternoonEndMin").value;

            //var morningEndMinDeci = morningEndMin * (1/60);
//var morningStartMinDeci = morningStartMin * (1/60);
           // var afternoonEndMinDeci = afternoonEndMin * (1/60);
           // var afternoonStartMinDeci = afternoonStartMin * (1/60);

            //var morningTotal = (morningEndHours - morningstartHours) + (morningEndMinDeci - morningStartMinDeci);
          //  var afternoonTotal = (afternoonEndHours - afternoonStartHours) + (afternoonEndMinDeci - afternoonStartMinDeci);

           // var totalDeci = parseFloat(morningTotal + afternoonTotal);

           // var totalTimeFormat = h_mm(totalDeci);

           // document.getElementById("sundayTotal").value =totalTimeFormat;
       // }
       // */

        // Restriktion für Eingabe der Uhrzeit
        // credit to: https://stackoverflow.com/questions/469357/html-text-input-allow-only-numeric-input
        function setInputFilter(textbox, inputFilter) {
        ["input", "keydown", "keyup", "mousedown", "mouseup", "select", "contextmenu", "drop"].forEach(function(event) {
            textbox.addEventListener(event, function() {
                    if (inputFilter(this.value)) {
                        this.oldValue = this.value;
                        this.oldSelectionStart = this.selectionStart;
                        this.oldSelectionEnd = this.selectionEnd;
                    } else if (this.hasOwnProperty("oldValue")) {
                        this.value = this.oldValue;
                        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
                    } else {
                        this.value = "";
                    }
                });
            });
        }

        // nimmt angewähltes Datum und erruiert, welchen Wochentag und platziert es am richtigen Ort der Wochentabelle
        function getChoosenDay(){
           
    
            var date = document.getElementById("week_ww_yyyy").value;
            var d = new Date (date);  

            // angewähltes Datum ist ein Sonntag
            switch (d.getDay()) {
                case 0:
                    document.getElementById("seventhDayofWeek").innerHTML =d.toDateString();
                    
                    var monday = new Date (d);
                    monday.setDate(d.getDate() - 6);
                    document.getElementById("firstDayofWeek").innerHTML =monday.toDateString();
                    

                    var tuesday = new Date (d);
                    tuesday.setDate(d.getDate() - 5);
                    document.getElementById("secondDayofWeek").innerHTML =tuesday.toDateString();

                    var wednesday = new Date (d);
                    wednesday.setDate(d.getDate() - 4);
                    document.getElementById("thirdDayofWeek").innerHTML =wednesday.toDateString();

                    var thursday = new Date (d);
                    thursday.setDate(d.getDate() - 3);
                    document.getElementById("fourthDayofWeek").innerHTML =thursday.toDateString();

                    var friday = new Date (d);
                    friday.setDate(d.getDate() - 2);
                    document.getElementById("fifthDayofWeek").innerHTML =friday.toDateString();

                    var saturday = new Date (d);
                    saturday.setDate(d.getDate() - 1);
                    document.getElementById("sixthDayofWeek").innerHTML =saturday.toDateString();

                    break;

            }

            // angewähltes Datum ist ein Montag
            switch (d.getDay()) {
                case 1:
                    document.getElementById("firstDayofWeek").innerHTML =d.toDateString();

                    var tuesday = new Date (d);
                    tuesday.setDate(d.getDate() + 1);
                    document.getElementById("secondDayofWeek").innerHTML =tuesday.toDateString();

                    var wednesday = new Date (d);
                    wednesday.setDate(d.getDate() + 2);
                    document.getElementById("thirdDayofWeek").innerHTML =wednesday.toDateString();

                    var thursday = new Date (d);
                    thursday.setDate(d.getDate() + 3);
                    document.getElementById("fourthDayofWeek").innerHTML =thursday.toDateString();

                    var friday = new Date (d);
                    friday.setDate(d.getDate() + 4);
                    document.getElementById("fifthDayofWeek").innerHTML =friday.toDateString();

                    var saturday = new Date (d);
                    saturday.setDate(d.getDate() + 5);
                    document.getElementById("sixthDayofWeek").innerHTML =saturday.toDateString();

                    var sunday = new Date (d);
                    sunday.setDate(d.getDate() + 6);
                    document.getElementById("seventhDayofWeek").innerHTML =sunday.toDateString();
                    
                    break;

            }

            // angewähltes Datum ist ein Dienstag
            switch (d.getDay()) {
                case 2:
                    document.getElementById("secondDayofWeek").innerHTML =d.toDateString();

                    var wednesday = new Date (d);
                    wednesday.setDate(d.getDate() + 1);
                    document.getElementById("thirdDayofWeek").innerHTML =wednesday.toDateString();

                    var tuesday = new Date (d);
                    tuesday.setDate(d.getDate() + 2);
                    document.getElementById("fourthDayofWeek").innerHTML =tuesday.toDateString();

                    var friday = new Date (d);
                    friday.setDate(d.getDate() + 3);
                    document.getElementById("fifthDayofWeek").innerHTML =friday.toDateString();

                    var saturday = new Date (d);
                    saturday.setDate(d.getDate() + 4);
                    document.getElementById("sixthDayofWeek").innerHTML =saturday.toDateString();

                    var sunday = new Date (d);
                    sunday.setDate(d.getDate() + 5);
                    document.getElementById("seventhDayofWeek").innerHTML =sunday.toDateString();

                    var monday = new Date (d);
                    monday.setDate(d.getDate() - 1);
                    document.getElementById("firstDayofWeek").innerHTML =monday.toDateString();

                    break;

            }
            
            // angewähltes Datum ist ein Mittwoch
            switch (d.getDay()) {
                case 3:
                    document.getElementById("thirdDayofWeek").innerHTML =d.toDateString();

                    var thursday = new Date (d);
                    thursday.setDate(d.getDate() + 1);
                    document.getElementById("fourthDayofWeek").innerHTML =thursday.toDateString();

                    var friday = new Date (d);
                    friday.setDate(d.getDate() + 2);
                    document.getElementById("fifthDayofWeek").innerHTML =friday.toDateString();

                    var saturday = new Date (d);
                    saturday.setDate(d.getDate() + 3);
                    document.getElementById("sixthDayofWeek").innerHTML =saturday.toDateString();

                    var sunday = new Date (d);
                    sunday.setDate(d.getDate() + 4);
                    document.getElementById("seventhDayofWeek").innerHTML =sunday.toDateString();

                    var monday = new Date (d);
                    monday.setDate(d.getDate() - 2 );
                    document.getElementById("firstDayofWeek").innerHTML =monday.toDateString();

                    var tuesday = new Date (d);
                    tuesday.setDate(d.getDate() - 1);
                    document.getElementById("secondDayofWeek").innerHTML =tuesday.toDateString();

                    break;

            }

            // angewähltes Datum ist ein Donnerstag
            switch (d.getDay()) {
                case 4:
                    document.getElementById("fourthDayofWeek").innerHTML =d.toDateString();

                    var friday = new Date (d);
                    friday.setDate(d.getDate() + 1);
                    document.getElementById("fifthDayofWeek").innerHTML =friday.toDateString();

                    var saturday = new Date (d);
                    saturday.setDate(d.getDate() + 2);
                    document.getElementById("sixthDayofWeek").innerHTML =saturday.toDateString();

                    var sunday = new Date (d);
                    sunday.setDate(d.getDate() + 3);
                    document.getElementById("seventhDayofWeek").innerHTML =sunday.toDateString();

                    var monday = new Date (d);
                    monday.setDate(d.getDate() - 3);
                    document.getElementById("firstDayofWeek").innerHTML =monday.toDateString();

                    var tuesday = new Date (d);
                    tuesday.setDate(d.getDate() - 2);
                    document.getElementById("secondDayofWeek").innerHTML =tuesday.toDateString();

                    var wednesday = new Date (d);
                    wednesday.setDate(d.getDate() - 1);
                    document.getElementById("thirdDayofWeek").innerHTML =wednesday.toDateString();

                    break;

            }

            // angewähltes Datum ist ein Freitag
            switch (d.getDay()) {
                case 5:
                    document.getElementById("fifthDayofWeek").innerHTML =d.toDateString();

                    var saturday = new Date (d);
                    saturday.setDate(d.getDate() + 1);
                    document.getElementById("sixthDayofWeek").innerHTML =saturday.toDateString();

                    var sunday = new Date (d);
                    sunday.setDate(d.getDate() + 2);
                    document.getElementById("seventhDayofWeek").innerHTML =sunday.toDateString();

                    var monday = new Date (d);
                    monday.setDate(d.getDate() - 4);
                    document.getElementById("firstDayofWeek").innerHTML =monday.toDateString();

                    var tuesday = new Date (d);
                    tuesday.setDate(d.getDate() - 3);
                    document.getElementById("secondDayofWeek").innerHTML =tuesday.toDateString();

                    var wednesday = new Date (d);
                    wednesday.setDate(d.getDate() - 2);
                    document.getElementById("thirdDayofWeek").innerHTML =wednesday.toDateString();

                    var thursday = new Date (d);
                    thursday.setDate(d.getDate() - 1);
                    document.getElementById("fourthDayofWeek").innerHTML =thursday.toDateString();

                    break;

            }

            // angewähltes Datum ist ein Samstag
            switch (d.getDay()) {
                case 6:
                    document.getElementById("sixthDayofWeek").innerHTML =d.toDateString();

                    var sunday = new Date (d);
                    sunday.setDate(d.getDate() + 1);
                    document.getElementById("seventhDayofWeek").innerHTML =sunday.toDateString();

                    var monday = new Date (d);
                    monday.setDate(d.getDate() - 5);
                    document.getElementById("firstDayofWeek").innerHTML =monday.toDateString();

                    var tuesday = new Date (d);
                    tuesday.setDate(d.getDate() - 4);
                    document.getElementById("secondDayofWeek").innerHTML =tuesday.toDateString();

                    var wednesday = new Date (d);
                    wednesday.setDate(d.getDate() - 3);
                    document.getElementById("thirdDayofWeek").innerHTML =wednesday.toDateString();

                    var thursday = new Date (d);
                    thursday.setDate(d.getDate() - 2);
                    document.getElementById("fourthDayofWeek").innerHTML =thursday.toDateString();

                    var friday = new Date (d);
                    friday.setDate(d.getDate() - 1);
                    document.getElementById("fifthDayofWeek").innerHTML =friday.toDateString();

                    break;
            }
        }

        // definiert Soll-Zeit der Woche und errechet Total per Ende Woche aus
        function setTargetTime (){
            var monday ="8.40";
            document.getElementById("mondayTargetTime").value =monday;

            var tuesday ="8.40";
            document.getElementById("tuesdayTargetTime").value =tuesday;

            var wednesday ="8.40";
            document.getElementById("wednesdayTargetTime").value =wednesday;

            var thursday ="8.40";
            document.getElementById("thursdayTargetTime").value =thursday;

            var friday ="8.40";
            document.getElementById("fridayTargetTime").value =friday;

            var saturday ="0.00";
            document.getElementById("saturdayTargetTime").value =saturday;

            var sunday ="0.00";
            document.getElementById("sundayTargetTime").value =sunday;
        }
 

        /* Inputfilter für alle Inputfelder, muss einzeln gemacht werden, da getElementbyClassName nicht funktioniert
         * 
         * credit to: https://stackoverflow.com/questions/469357/html-text-input-allow-only-numeric-input
         */

         // Inputfilter für Montag (Stunden)
        setInputFilter(document.getElementById("mondayMorningStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("mondayMorningEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("mondayAfternoonStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("mondayAfternoonEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

         // Inputfilter für Montag (Minuten)
        setInputFilter(document.getElementById("mondayMorningStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });

        setInputFilter(document.getElementById("mondayMorningEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });        

        setInputFilter(document.getElementById("mondayAfternoonStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   

        setInputFilter(document.getElementById("mondayAfternoonEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   



        // Inputfilter für Dienstag (Stunden)
        setInputFilter(document.getElementById("tuesdayMorningStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("tuesdayMorningEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("tuesdayAfternoonStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("tuesdayAfternoonEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

         // Inputfilter für Dienstag (Minuten)
        setInputFilter(document.getElementById("tuesdayMorningStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });

        setInputFilter(document.getElementById("tuesdayMorningEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });        

        setInputFilter(document.getElementById("tuesdayAfternoonStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   

        setInputFilter(document.getElementById("tuesdayAfternoonEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   



        // Inputfilter für Mittwoch (Stunden)
        setInputFilter(document.getElementById("wednesdayMorningStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("wednesdayMorningEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("wednesdayAfternoonStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("wednesdayAfternoonEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

         // Inputfilter für Mittwoch (Minuten)
        setInputFilter(document.getElementById("wednesdayMorningStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });

        setInputFilter(document.getElementById("wednesdayMorningEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });        

        setInputFilter(document.getElementById("wednesdayAfternoonStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   

        setInputFilter(document.getElementById("wednesdayAfternoonEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   



        // Inputfilter für Donnerstag (Stunden)
        setInputFilter(document.getElementById("thursdayMorningStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("thursdayMorningEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("thursdayAfternoonStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("thursdayAfternoonEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

         // Inputfilter für Donnerstag (Minuten)
        setInputFilter(document.getElementById("thursdayMorningStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });

        setInputFilter(document.getElementById("thursdayMorningEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });        

        setInputFilter(document.getElementById("thursdayAfternoonStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   

        setInputFilter(document.getElementById("thursdayAfternoonEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   



        // Inputfilter für Freitag (Stunden)
        setInputFilter(document.getElementById("fridayMorningStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("fridayMorningEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("fridayAfternoonStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("fridayAfternoonEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

         // Inputfilter für Freitag (Minuten)
        setInputFilter(document.getElementById("fridayMorningStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });

        setInputFilter(document.getElementById("fridayMorningEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });        

        setInputFilter(document.getElementById("fridayAfternoonStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   

        setInputFilter(document.getElementById("fridayAfternoonEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   



        // Inputfilter für Samstag (Stunden)
        setInputFilter(document.getElementById("saturdayMorningStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("saturdayMorningEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("saturdayAfternoonStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("saturdayAfternoonEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

         // Inputfilter für Samstag (Minuten)
        setInputFilter(document.getElementById("saturdayMorningStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });

        setInputFilter(document.getElementById("saturdayMorningEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });        

        setInputFilter(document.getElementById("saturdayAfternoonStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   

        setInputFilter(document.getElementById("saturdayAfternoonEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   



        // Inputfilter für Sonntag (Stunden)
        setInputFilter(document.getElementById("sundayMorningStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("sundayMorningEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("sundayAfternoonStartHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

        setInputFilter(document.getElementById("sundayAfternoonEndHours"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 23); });

         // Inputfilter für Sonntag (Minuten)
        setInputFilter(document.getElementById("sundayMorningStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });

        setInputFilter(document.getElementById("sundayMorningEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });        

        setInputFilter(document.getElementById("sundayAfternoonStartMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   

        setInputFilter(document.getElementById("sundayAfternoonEndMin"), function(value) {
            return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 59); });   


        // Konvertiert Dezimal ins Zeitformat (BR)
        //full credit: https://www.acronaut.de/viewtopic.php?f=25&t=16550
        function h_mm(Wert) {
        var Minuten = Math.round(60 * Math.abs(Wert)) ;
        return (Wert < 0 ? "-" : "") + parseInt(Minuten / 60) + (100 + (Minuten % 60)).toString().replace(/^1/,":") ;
        }

        window.onload = function () {
            setTargetTime();
        }
        
    	
        
        //Hier soll die Schleife gestartet werden und die Methode (safeDataAndTimetoDB) einzlen Tage speichern
        //Der User muss nicht alle Felder ausfüllen! 
        function daysSchleife(){
		
        	//Montag       	
			informationAboutDay.day = document.getElementById("firstDayofWeek").value;
        	safeDataAndTimetoDB(morningEndHours, morningstartHours, morningEndMinDeci, morningStartMinDeci,
                		afternoonEndHours, afternoonStartHours, afternoonEndMinDeci, afternoonStartMinDeci,morningTotal,
                		afternoonTotal,totalDeci)
    	       	        	
        	//Dienstag 
			informationAboutDay.day = document.getElementById("secondDayofWeek").value;
        	safeDataAndTimetoDB(morningEndHours, morningstartHours, morningEndMinDeci, morningStartMinDeci,
                		afternoonEndHours, afternoonStartHours, afternoonEndMinDeci, afternoonStartMinDeci,morningTotal,
                		afternoonTotal,totalDeci)
        	
        	//Mittwoch
        	informationAboutDay.set(document.getElementById("thirdDayofWeek").value);
        	safeDataAndTimetoDB(morningEndHours, morningstartHours, morningEndMinDeci, morningStartMinDeci,
                		afternoonEndHours, afternoonStartHours, afternoonEndMinDeci, afternoonStartMinDeci,morningTotal,
                		afternoonTotal,totalDeci)
        	
        	//Donnerstag
			informationAboutDay.set(document.getElementById("fourthDayofWeek").value);
        	safeDataAndTimetoDB(morningEndHours, morningstartHours, morningEndMinDeci, morningStartMinDeci,
                		afternoonEndHours, afternoonStartHours, afternoonEndMinDeci, afternoonStartMinDeci,morningTotal,
                		afternoonTotal,totalDeci)
        		
        	//Freitag
			informationAboutDay.set(document.getElementById("fifthDayofWeek").value);
        	safeDataAndTimetoDB(morningEndHours, morningstartHours, morningEndMinDeci, morningStartMinDeci,
                		afternoonEndHours, afternoonStartHours, afternoonEndMinDeci, afternoonStartMinDeci,morningTotal,
                		afternoonTotal,totalDeci)
        	
        	//Samstag & Sonntag
        	//kann bei Bedarf ergänzt werden, wenn die Arbeit auf ein Wochenende fallen
        }
        
        //Hier werde die Daten vom DB geholt, sobal der User auf Validate drückt - es wird in den
        //Input-Felder reingeschrieben. So kann der User dies bei Änderungsbedarf ändern. (BR)
        
        
                 
        function bringUpDataAndTimefromDB(){

        	 $(document).ready(function(){
        	    	$.getJSON("http://localhost:8081/timerecorders/timestamps/", function(data){
        	    	var working_day = '';
        	    	
    	    		$.each(data, function(key, value){
    	    			working_day = value.date.toString();	
    	    			
    	    			
    	    			//reseten von Table
    	    			//resetFullTable()
    	    			//Hier sollen die Tage gesplittet werden und in den Inputfelder reingeschrieben werden. 
    	      	  		
        	    		//Montag 
        	    		if (document.getElementById("firstDayofWeek").innerHTML == working_day) {
    					
        	    		//Morgen
        	    		   document.getElementById("mondayMorningStartHours").value = value.morningstartHours;
        	    		   document.getElementById("mondayMorningStartMin").value = value.morningStartMinDeci*60;
        	    		   document.getElementById("mondayMorningEndHours").value = value.morningEndHours;
        	    		   document.getElementById("mondayMorningEndMin").value = value.morningEndMinDeci*60;
        	    
        	    		 //Nachmittag
        	    		   document.getElementById("mondayAfternoonStartHours").value = value.afternoonStartHours;
        	    		   document.getElementById("mondayAfternoonStartMin").value = value.afternoonStartMinDeci*60;
        	    		   document.getElementById("mondayAfternoonEndHours").value = value.afternoonEndHours;
        	    		   document.getElementById("mondayAfternoonEndMin").value = value.afternoonEndMinDeci*60;
        	    		   
        	    		 //Total vom Tag
        	    		   document.getElementById("mondayTotal").value = h_mm(value.totalDeci);
        	    			
        	    		//Dienstag
        	    		} else if (document.getElementById("secondDayofWeek").innerHTML == working_day) {      	    			
        	    			
        	    			//Morgen
         	    		   document.getElementById("tuesdayMorningStartHours").value = value.morningstartHours;
         	    		   document.getElementById("tuesdayMorningStartMin").value = value.morningStartMinDeci*60;
         	    		   document.getElementById("tuesdayMorningEndHours").value  = value.morningEndHours;
         	    		   document.getElementById("tuesdayMorningEndMin").value = value.morningEndMinDeci*60;
         	    
         	    		 //Nachmittag
         	    		   document.getElementById("tuesdayAfternoonStartHours").value = value.afternoonStartHours;
         	    		   document.getElementById("tuesdayAfternoonStartMin").value = value.afternoonStartMinDeci*60;
         	    		   document.getElementById("tuesdayAfternoonEndHours").value  = value.afternoonEndHours;
         	    		   document.getElementById("tuesdayAfternoonEndMin").value = value.afternoonEndMinDeci*60;     	    		   
        	    			
         	    		//Total vom Tag
        	    		   document.getElementById("tuesdayTotal").value = h_mm(value.totalDeci); 
         	    		   
        	    		//Mittwoch
        	    		} else if (document.getElementById("thirdDayofWeek").innerHTML == working_day) {      	    			
        	    			
        	    			//Morgen
         	    		   document.getElementById("wednesdayMorningStartHours").value = value.morningstartHours;
         	    		   document.getElementById("wednesdayMorningStartMin").value = value.morningStartMinDeci*60;
         	    		   document.getElementById("wednesdayMorningEndHours").value = value.morningEndHours;
         	    		   document.getElementById("wednesdayMorningEndMin").value = value.morningEndMinDeci*60;
         	    
         	    		 //Nachmittag
         	    		   document.getElementById("wednesdayAfternoonStartHours").value = value.afternoonStartHours;
         	    		   document.getElementById("wednesdayAfternoonStartMin").value = value.afternoonStartMinDeci*60;
         	    		   document.getElementById("wednesdayAfternoonEndHours").value  = value.afternoonEndHours;
         	    		   document.getElementById("wednesdayAfternoonEndMin").value = value.afternoonEndMinDeci*60;      	    		 
        	    		
         	    		//Total vom Tag
        	    		   document.getElementById("wednesdayTotal").value = h_mm(value.totalDeci);
         	    		   
        	    		//Donnerstag
        	    		} else if (document.getElementById("fourthDayofWeek").innerHTML == working_day) {

        	    			
        	    			//Morgen
         	    		   document.getElementById("thursdayMorningStartHours").value = value.morningstartHours;
         	    		   document.getElementById("thursdayMorningStartMin").value = value.morningStartMinDeci*60;
         	    		   document.getElementById("thursdayMorningEndHours").value  = value.morningEndHours;
         	    		   document.getElementById("thursdayMorningEndMin").value = value.morningEndMinDeci*60;
         	    
         	    		 //Nachmittag
         	    		   document.getElementById("thursdayAfternoonStartHours").value = value.afternoonStartHours;
         	    		   document.getElementById("thursdayAfternoonStartMin").value = value.afternoonStartMinDeci*60;
         	    		   document.getElementById("thursdayAfternoonEndHours").value  = value.afternoonEndHours;
         	    		   document.getElementById("thursdayAfternoonEndMin").value = value.afternoonEndMinDeci*60;     	    			
        	    			
         	    		//Total vom Tag
        	    		   document.getElementById("thursdayTotal").value = h_mm(value.totalDeci);
         	    		
        	    		//Freitag
        	    		} else if (document.getElementById("fifthDayofWeek").innerHTML == working_day) {
        	    			
        	    			//Morgen
         	    		   document.getElementById("fridayMorningStartHours").value = value.morningstartHours;
         	    		   document.getElementById("fridayMorningStartMin").value = value.morningStartMinDeci*60;
         	    		   document.getElementById("fridayMorningEndHours").value  = value.morningEndHours;
         	    		   document.getElementById("fridayMorningEndMin").value = value.morningEndMinDeci*60;
         	    
         	    		 //Nachmittag
         	    		   document.getElementById("fridayAfternoonStartHours").value = value.afternoonStartHours;
         	    		   document.getElementById("fridayAfternoonStartMin").value = value.afternoonStartMinDeci*60;
         	    		   document.getElementById("fridayAfternoonEndHours").value  = value.afternoonEndHours;
         	    		   document.getElementById("fridayAfternoonEndMin").value = value.afternoonEndMinDeci*60;
         	    		   
         	    		//Total vom Tag
        	    		   document.getElementById("fridayTotal").value = h_mm(value.totalDeci);
        	    		         	    		} 	
    	    		});        	    		    	   	    		
        	    	});
        	    	    
        	    });       	 
        }
        
        
        //Hier werden die Innformationen von je nach Tag geholt und in den Server übermittelt (BR)
        function safeDataAndTimetoDB(morningEndHours, morningstartHours, morningEndMinDeci, morningStartMinDeci,
        		afternoonEndHours, afternoonStartHours, afternoonEndMinDeci, afternoonStartMinDeci,morningTotal,
        		afternoonTotal,totalDeci){
		
        var date = informationAboutDay.currentDay;
       
	        
		console.log("Die Zeit wurde in den DB gespeichert");
        	
        	$.ajax({
				type : "POST",
				url : "http://localhost:8081/timerecorders/zeiterfassung/",
				data : JSON.stringify({

					date : date,
					morningEndHours : morningEndHours,
					morningstartHours : morningstartHours,
					morningEndMinDeci : morningEndMinDeci,
					morningStartMinDeci : morningStartMinDeci,
					afternoonEndHours : afternoonEndHours,
					afternoonStartHours : afternoonStartHours,
					afternoonEndMinDeci : afternoonStartMinDeci,
					afternoonStartMinDeci : afternoonStartMinDeci,
					morningTotal : morningTotal,
					afternoonTotal : afternoonTotal,
					totalDeci : totalDeci,
				}),
				success : successSafeTimeServer,
				dataType : 'json',
				contentType : 'application/json'
			});
        	
			
        
        }
        
        
        
        //sobald an den DB übermittelt wurde, wird ein Antwort generiert - dient für den Techniker (BR)
        function successSafeTimeServer(response){

        	if(response == true){
			console.log("Daten wurde korrekt übermittelt an den Datenbank");
        	} else {
            console.log("Bei der Übermittlung der Daten gab es ein Fehler - bitte prüfen");
        	}	
        }
        
		//Null stellen von Werten bzw. reseten (BR)
		function resetFullTable(){
			
  	  		
    		//Montag 
			
    		//Morgen
    		   document.getElementById("mondayMorningStartHours").value = "";
    		   document.getElementById("mondayMorningStartMin").value = "";
    		   document.getElementById("mondayMorningEndHours").value = "";
    		   document.getElementById("mondayMorningEndMin").value = "";
    
    		 //Nachmittag
    		   document.getElementById("mondayAfternoonStartHours").value = "";
    		   document.getElementById("mondayAfternoonStartMin").value = "";
    		   document.getElementById("mondayAfternoonEndHours").value = "";
    		   document.getElementById("mondayAfternoonEndMin").value = "";
    			
    		//Dienstag      	    			
    			
    			//Morgen
	    		   document.getElementById("tuesdayMorningStartHours").value = "";
	    		   document.getElementById("tuesdayMorningStartMin").value = "";
	    		   document.getElementById("tuesdayMorningEndHours").value  = "";
	    		   document.getElementById("tuesdayMorningEndMin").value = "";
	    
	    		 //Nachmittag
	    		   document.getElementById("tuesdayAfternoonStartHours").value = "";
	    		   document.getElementById("tuesdayAfternoonStartMin").value = "";
	    		   document.getElementById("tuesdayAfternoonEndHours").value  = "";
	    		   document.getElementById("tuesdayAfternoonEndMin").value = "";     	    		   
    			        	    		
    		//Mittwoch
    	    	    			
    			
    			//Morgen
	    		   document.getElementById("wednesdayMorningStartHours").value = "";
	    		   document.getElementById("wednesdayMorningStartMin").value = "";
	    		   document.getElementById("wednesdayMorningEndHours").value = "";
	    		   document.getElementById("wednesdayMorningEndMin").value = "";
	    
	    		 //Nachmittag
	    		   document.getElementById("wednesdayAfternoonStartHours").value = "";
	    		   document.getElementById("wednesdayAfternoonStartMin").value = "";
	    		   document.getElementById("wednesdayAfternoonEndHours").value  = "";
	    		   document.getElementById("wednesdayAfternoonEndMin").value = ""; 
			
		
        
        //Donnerstag
        	//Morgen
       	   document.getElementById("thursdayMorningStartHours").value = "";
           document.getElementById("thursdayMorningStartMin").value = "";
          document.getElementById("thursdayMorningEndHours").value = "";
         document.getElementById("thursdayMorningEndMin").value = "";
         	    
         //Nachmittag
          document.getElementById("thursdayAfternoonStartHours").value = "";
         document.getElementById("thursdayAfternoonStartMin").value = "";
         document.getElementById("thursdayAfternoonEndHours").value  = "";
         document.getElementById("thursdayAfternoonEndMin").value = "";
			
			
		//Freitag
		
			//Morgen
  		   document.getElementById("fridayMorningStartHours").value = "";
  		   document.getElementById("fridayMorningStartMin").value ="";
  		   document.getElementById("fridayMorningEndHours").value  = "";
  		   document.getElementById("fridayMorningEndMin").value= "";
  
  		 //Nachmittag
  		   document.getElementById("fridayAfternoonStartHours").value = "";
  		   document.getElementById("fridayAfternoonStartMin").value = "";
  		   document.getElementById("fridayAfternoonEndHours").value = "";
  		   document.getElementById("fridayAfternoonEndMin").value = "";
  		  
  		  //Total
  		   document.getElementById("mondayTotal").value = "";
           document.getElementById("tuesdayTotal").value = ""; 
           document.getElementById("wednesdayTotal").value = "";
           document.getElementById("thursdayTotal").value = "";
    	   document.getElementById("fridayTotal").value = "";
  		   
  		   
		}
		
		//Hier werden die erwartete Stunde pro Tag reingeschrieben (BR)
		function targetTime(){
		
		
		
		}
		
		//Hier werden die Überstunden geholt und anzeigt (BR)
		function overTime(){

		
		}
		
		
		
				
	//Hier wird der User ausser der Loginaktivitätliste herausgelöscht. (JS/BR)
		
		function deleteUserDB(){

			var username = $.cookie("userlogin").toString(); 

			console.log("Bin in der Funktion deleteUserDB" + username);
			
			$.ajax({
				type : "POST",
				url : "http://localhost:8081/timerecorders/deleteuser/",
				data : JSON.stringify({

					username : username,
					
				}),
				success : successDeleteUser,
				dataType : 'json',
				contentType : 'application/json'
			});
			window.location.href = "http://localhost:8081/login";
		
		}
		
	function successDeleteUser(response){
			
			if (response){
			console.log("Sucessful: delete active user");
			} else {
			console.log("Unsucessful: delete active user");
			}
			
		}

    </script>
</body>
</html>