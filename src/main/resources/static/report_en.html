<!-- erstellt durch Jordi Schmidlin-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <html lang="en">
    <link rel="stylesheet" href="css/style.css"">
    <title>Report</title>
</head>
<body style="background-color: rgb(217, 240, 216)">
    <div style="max-width: 350px; position: relative; margin: auto;" >
    <img src="css/images/Logo.png" alt="Logo" class= "logo" style="max-width: 350px;" > 
    </div>

    <br>
    <br>
    <br>
    <br>
    <br>
    <!-- Navigationsbar-->
    <ul class="navibar">
        <li class="barItem"><a class="barItem" href="main_en.html">Home</a></li>
        <li class="barItem"><a class="barItem">Report</a></li>
        <li class="barItem"><a class="barItem" href="absence_en.html">Absence</a></li>
        
        <li style="float:right" class="barItem"> <a href="login_en.html" class="barItem">Logout</a></li>
        <li style="float:right" class="barItem">
            <a href="javascript:void(0)" class="barItemBtn">Languages</a>
            <div class="barItem-content">
                <a>English</a>
                <a>German</a>
          </div>
          <li style="float:right" class="barItem"> <a href="profile_en.html" class="barItem">Profile</a> </li>
    </ul>


    <br>
    <div style="display: block; text-align: center;width: 100%;">
        <h1>Monthly Report</h1>
    </div>

    <form>
    <div style="display: block; text-align: center;width: 100%;">
    <label style="margin-right: 10px; font-weight: bold;" for="month">Choose report month:</label>
    <input id="chosenMonth" type="month" name="month" min="2021-01" max="2024-12" onchange="getChosenMonth()" required>
    <span class="validity"></span>
    </div>
    </form>

    <div id="startOfExport" style="visibility: hidden; position: relative; margin: auto; width: 50px;">
        <h1>Example:</h1>
        <p>Print to PDF</p>
        <p>Print to PDF</p>
        <p>Print to PDF</p>
        <p>Print to PDF</p>
    </div>


<div style="display: block; text-align: center;width: 100%;">
    <button id="generatePDF" class="button" onclick="convertToPDF()"> Generate PDF</button>
</div>
    
    

    <script>

        // nimmt angewählten Monat entgegen
        function getChosenMonth(){
            
            var month= document.getElementById("chosenMonth").value;  
            alert(month);
        }

        // erstellt eine PDF-Datei für den Export des Reports
        // full credit to: https://qawithexperts.com/article/javascript/easy-way-to-convert-html-to-pdf-using-javascript/335
        function convertToPDF(){
            var doc = new jsPDF();
            doc.fromHTML(document.getElementById("startOfExport"), 20, 20, {
                'width' : 500
            },
            function (x){
                var month= document.getElementById("chosenMonth").value; 
                doc.save('report_'+month+'.pdf');
            });
        }
  

    </script>
    
</body>
</html>